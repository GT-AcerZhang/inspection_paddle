2020-11-25 17:19:28,494 - train.py[line:438] - INFO: start train YOLOv3, train params:{'data_dir': 'E:\\Projects\\Fabric_Defect_Detection\\model_proto\\ShuffleNetV2_YOLOv3\\v1.1\\dataset\\train', 'val_dir': 'E:\\Projects\\Fabric_Defect_Detection\\model_proto\\MobileNet_YOLO\\Fast_YOLO\\v1.1\\valid', 'train_list': 'train.txt', 'eval_list': 'valid.txt', 'use_filter': False, 'class_dim': 1, 'label_dict': {'defect': 0}, 'num_dict': {0: 'defect'}, 'image_count': 5000, 'continue_train': True, 'pretrained': False, 'pretrained_model_dir': 'E:\\Projects\\Fabric_Defect_Detection\\model_proto\\MobileNet_YOLO\\Fast_YOLO\\v1.1\\pretrained_model', 'save_model_dir': 'E:\\Projects\\Fabric_Defect_Detection\\model_proto\\MobileNet_YOLO\\Fast_YOLO\\v1.1\\saved_model', 'model_prefix': 'yolo-v3', 'freeze_dir': 'E:\\Projects\\Fabric_Defect_Detection\\model_proto\\MobileNet_YOLO\\Fast_YOLO\\v1.1\\freeze_model', 'use_tiny': False, 'max_box_num': 5, 'num_epochs': 101, 'train_batch_size': 16, 'use_gpu': True, 'yolo_cfg': {'input_size': [3, 352, 352], 'anchors': [351, 16, 15, 188, 16, 351], 'anchor_mask': [[0, 1, 2]]}, 'yolo_tiny_cfg': {'input_size': [3, 352, 352], 'anchors': [96, 15, 157, 15, 240, 16, 303, 17, 351, 16, 351, 26], 'anchor_mask': [[3, 4, 5], [0, 1, 2]]}, 'ignore_thresh': 0.7, 'mean_rgb': [127.5, 127.5, 127.5], 'mode': 'train', 'multi_data_reader_count': 4, 'apply_distort': True, 'nms_top_k': 6, 'nms_pos_k': 6, 'valid_thresh': 0.005, 'nms_thresh': 0.1, 'image_distort_strategy': {'expand_prob': 0.5, 'expand_max_ratio': 4, 'hue_prob': 0.5, 'hue_delta': 18, 'contrast_prob': 0.5, 'contrast_delta': 0.5, 'saturation_prob': 0.5, 'saturation_delta': 0.5, 'brightness_prob': 0.5, 'brightness_delta': 0.5}, 'sgd_strategy': {'learning_rate': 0.002, 'lr_epochs': [10, 45, 80, 110, 135, 160, 180], 'lr_decay': [1, 0.5, 0.25, 0.1, 0.025, 0.004, 0.001, 0.0005]}, 'early_stop': {'sample_frequency': 50, 'rise_limit': 10, 'min_loss': 5e-08, 'min_curr_map': 0.84}}
2020-11-25 17:19:28,503 - train.py[line:440] - INFO: create place, use gpu:True
2020-11-25 17:19:28,504 - train.py[line:443] - INFO: build network and program
2020-11-25 17:19:30,212 - train.py[line:457] - INFO: build executor and init params
2020-11-25 17:19:32,843 - train.py[line:418] - INFO: load param from retrain model
2020-11-25 17:19:33,426 - train.py[line:477] - INFO: current pass: 0, start read image
2020-11-25 17:21:54,210 - train.py[line:492] - INFO: pass 0, trainbatch 200, loss 5.924487590789795, time 0.45 sec
2020-11-25 17:23:15,944 - train.py[line:494] - INFO: pass 0 train result, current pass mean loss: 6.936270663532586
2020-11-25 17:24:35,670 - train.py[line:500] - INFO: 0 epoch current pass map is 0.5200181007385254, accum_map is 0.5200181007385254
2020-11-25 17:24:35,671 - train.py[line:506] - INFO: model save 0 epcho train result, current best pass MAP 0.5200181007385254
2020-11-25 17:24:38,636 - train.py[line:512] - INFO: best pass 0 current best pass MAP is 0.5200181007385254
2020-11-25 17:24:38,638 - train.py[line:477] - INFO: current pass: 1, start read image
2020-11-25 17:26:28,537 - train.py[line:492] - INFO: pass 1, trainbatch 200, loss 5.766547203063965, time 0.45 sec
2020-11-25 17:27:30,713 - train.py[line:494] - INFO: pass 1 train result, current pass mean loss: 6.124484336414276
2020-11-25 17:27:30,715 - train.py[line:477] - INFO: current pass: 2, start read image
2020-11-25 17:29:20,394 - train.py[line:492] - INFO: pass 2, trainbatch 200, loss 7.274173736572266, time 0.45 sec
2020-11-25 17:30:22,285 - train.py[line:494] - INFO: pass 2 train result, current pass mean loss: 5.94733216663519
2020-11-25 17:31:41,188 - train.py[line:500] - INFO: 2 epoch current pass map is 0.5446449518203735, accum_map is 0.5321460366249084
2020-11-25 17:31:41,196 - train.py[line:506] - INFO: model save 2 epcho train result, current best pass MAP 0.5446449518203735
2020-11-25 17:31:43,731 - train.py[line:512] - INFO: best pass 2 current best pass MAP is 0.5446449518203735
2020-11-25 17:31:43,733 - train.py[line:477] - INFO: current pass: 3, start read image
2020-11-25 17:33:32,991 - train.py[line:492] - INFO: pass 3, trainbatch 200, loss 5.397562503814697, time 0.46 sec
2020-11-25 17:34:34,697 - train.py[line:494] - INFO: pass 3 train result, current pass mean loss: 5.4768183048540795
2020-11-25 17:34:34,697 - train.py[line:477] - INFO: current pass: 4, start read image
2020-11-25 17:36:24,478 - train.py[line:492] - INFO: pass 4, trainbatch 200, loss 4.071196556091309, time 0.45 sec
2020-11-25 17:37:26,211 - train.py[line:494] - INFO: pass 4 train result, current pass mean loss: 4.517512594168179
2020-11-25 17:38:45,349 - train.py[line:500] - INFO: 4 epoch current pass map is 0.8195428848266602, accum_map is 0.6371474266052246
2020-11-25 17:38:45,350 - train.py[line:506] - INFO: model save 4 epcho train result, current best pass MAP 0.8195428848266602
2020-11-25 17:38:48,052 - train.py[line:512] - INFO: best pass 4 current best pass MAP is 0.8195428848266602
2020-11-25 17:38:48,052 - train.py[line:477] - INFO: current pass: 5, start read image
2020-11-25 17:40:38,273 - train.py[line:492] - INFO: pass 5, trainbatch 200, loss 4.576863765716553, time 0.46 sec
2020-11-25 17:41:40,193 - train.py[line:494] - INFO: pass 5 train result, current pass mean loss: 4.276155368207743
2020-11-25 17:41:40,194 - train.py[line:477] - INFO: current pass: 6, start read image
2020-11-25 17:43:30,269 - train.py[line:492] - INFO: pass 6, trainbatch 200, loss 4.635189056396484, time 0.45 sec
2020-11-25 17:44:32,144 - train.py[line:494] - INFO: pass 6 train result, current pass mean loss: 4.196471033766628
2020-11-25 17:45:52,646 - train.py[line:500] - INFO: 6 epoch current pass map is 0.8095332980155945, accum_map is 0.6829150915145874
2020-11-25 17:45:52,647 - train.py[line:512] - INFO: best pass 4 current best pass MAP is 0.8195428848266602
2020-11-25 17:45:52,647 - train.py[line:477] - INFO: current pass: 7, start read image
2020-11-25 17:47:43,105 - train.py[line:492] - INFO: pass 7, trainbatch 200, loss 4.328882217407227, time 0.46 sec
2020-11-25 17:48:44,946 - train.py[line:494] - INFO: pass 7 train result, current pass mean loss: 4.081997892727105
2020-11-25 17:48:44,947 - train.py[line:477] - INFO: current pass: 8, start read image
2020-11-25 17:50:35,785 - train.py[line:492] - INFO: pass 8, trainbatch 200, loss 4.650308609008789, time 0.46 sec
2020-11-25 17:51:37,647 - train.py[line:494] - INFO: pass 8 train result, current pass mean loss: 4.055882955130677
2020-11-25 17:52:57,763 - train.py[line:500] - INFO: 8 epoch current pass map is 0.9201935529708862, accum_map is 0.7309255599975586
2020-11-25 17:52:57,764 - train.py[line:506] - INFO: model save 8 epcho train result, current best pass MAP 0.9201935529708862
2020-11-25 17:53:00,665 - train.py[line:512] - INFO: best pass 8 current best pass MAP is 0.9201935529708862
2020-11-25 17:53:00,666 - train.py[line:477] - INFO: current pass: 9, start read image
2020-11-25 17:54:50,398 - train.py[line:492] - INFO: pass 9, trainbatch 200, loss 3.3242223262786865, time 0.45 sec
2020-11-25 17:55:52,099 - train.py[line:494] - INFO: pass 9 train result, current pass mean loss: 3.9228471330941295
2020-11-25 17:55:52,100 - train.py[line:477] - INFO: current pass: 10, start read image
2020-11-25 17:57:41,806 - train.py[line:492] - INFO: pass 10, trainbatch 200, loss 4.247291088104248, time 0.45 sec
2020-11-25 17:58:43,477 - train.py[line:494] - INFO: pass 10 train result, current pass mean loss: 3.918833142271438
2020-11-25 18:00:02,495 - train.py[line:500] - INFO: 10 epoch current pass map is 0.9467129707336426, accum_map is 0.7689903974533081
2020-11-25 18:00:02,495 - train.py[line:506] - INFO: model save 10 epcho train result, current best pass MAP 0.9467129707336426
2020-11-25 18:00:05,354 - train.py[line:512] - INFO: best pass 10 current best pass MAP is 0.9467129707336426
2020-11-25 18:00:05,355 - train.py[line:477] - INFO: current pass: 11, start read image
2020-11-25 18:01:56,393 - train.py[line:492] - INFO: pass 11, trainbatch 200, loss 3.3311731815338135, time 0.45 sec
2020-11-25 18:02:58,347 - train.py[line:494] - INFO: pass 11 train result, current pass mean loss: 3.8123741149902344
2020-11-25 18:02:58,348 - train.py[line:477] - INFO: current pass: 12, start read image
2020-11-25 18:04:49,562 - train.py[line:492] - INFO: pass 12, trainbatch 200, loss 3.4208316802978516, time 0.46 sec
2020-11-25 18:05:52,098 - train.py[line:494] - INFO: pass 12 train result, current pass mean loss: 3.7877638317144715
2020-11-25 18:07:14,094 - train.py[line:500] - INFO: 12 epoch current pass map is 0.9502724409103394, accum_map is 0.7960513234138489
2020-11-25 18:07:14,095 - train.py[line:506] - INFO: model save 12 epcho train result, current best pass MAP 0.9502724409103394
2020-11-25 18:07:16,703 - train.py[line:512] - INFO: best pass 12 current best pass MAP is 0.9502724409103394
2020-11-25 18:07:16,704 - train.py[line:477] - INFO: current pass: 13, start read image
